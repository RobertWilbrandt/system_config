# system_config
Initial system configuration setup

## Install i3 window manager

To install the i3 window manager with the default status bar and the dmenu_run launcher use

```console
sudo apt install i3-wm i3status suckless-tools
```

## Keyboard layout

In order to store the keyboard layout consistently, edit/add the following lines to ```/etc/default/keyboard```:

```console
XKBLAYOUT="de"
XKBVARIANT="neo"
```

## Locale setup

First, check if all required locales are generated by looking at the output of ```locale -a```. If a required one is missing, generate it by using the command ```sudo dpkg-reconfigure locales```. Afterwards, set your intended locales in the ```/etc/default/locale``` file. You can use the ```locale``` command to check your current configuration. This might look like

```console
LANG="en_US.UTF-8"
LC_CTYPE="de_DE.UTF-8"
LC_NUMERIC="de_DE.UTF-8"
LC_TIME="de_DE.UTF-8"
LC_COLLATE="de_DE.UTF-8"
LC_MONETARY="de_DE.UTF-8"
LC_MESSAGES="en_US.UTF-8"
LC_PAPER="de_DE.UTF-8"
LC_NAME="de_DE.UTF-8"
LC_ADDRESS="de_DE.UTF-8"
LC_TELEPHONE="de_DE.UTF-8"
LC_MEASUREMENT="de_DE.UTF-8"
LC_IDENTIFICATION="de_DE.UTF-8"
```

## Setup zsh as default shell

You first need to install zsh, and then use the ```chsh``` command to set it as default:

```console
sudo apt install zsh
chsh -s /usr/bin/zsh
```

## Setup Oh My Zsh

Install Oh My Zsh as described in [the ohmyzsh README](https://github.com/ohmyzsh/ohmyzsh):

```
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```

You should not let it create a ```~/.zshrc``` file (or delete it afterwards), as this will be supplied by this package.

## Disable CPU frequency scaling

In some applications you might want to disable cpu frequency scaling to avoid changes in performance. The procedure to do this is described on [the Franka Emika troubleshooting page](https://frankaemika.github.io/docs/troubleshooting.html). The required steps are:

```console
sudo apt install cpufrequtils
sudo systemctl disable ondemand
sudo systemctl enable cpufrequtils
sudo sh -c 'echo "GOVERNOR=performance" > /etc/default/cpufrequtils'
sudo systemctl deamon-reload
sudo systemctl restart cpufrequtils
```

You can check the result using the ```cpufreq-info``` command, the "current policy" section should list the current governor for each CPU as "performance".

## Install the config files from this repo

First, you need to install [GNU Stow](https://www.gnu.org/software/stow/). This is used by the ```install.sh``` script to setup dotfiles.

```console
sudo apt install stow
./install.sh
```
